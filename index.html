<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Подготовка к ОГЭ по информатике</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- СЛОЙ 1: ФОН (CANVAS) -->
    <!-- Матричный дождь -->
    <canvas id="rainCanvas"></canvas> 
    <!-- 3D объекты и линии -->
    <canvas id="objCanvas"></canvas>
    
    <!-- СЛОЙ 2: ЭФФЕКТЫ ПОВЕРХ ВСЕГО -->
    <!-- Красная вспышка при получении урона -->
    <div id="damage-fx" class="damage-overlay"></div>

    <!-- СЛОЙ 3: HUD (ИНТЕРФЕЙС) -->
    <div class="hud-overlay">
        <!-- Декоративный текст слева -->
        <div class="hud-text top-left"></div> 
        
        <!-- Статистика игрока -->
        <div class="hud-text bottom-right">
            ЖИЗНИ: <span id="lives-display" style="color:#fff">---</span> | 
            СЧЕТ: <span id="score-display" style="color:#fff">---</span>
        </div>
        
        <!-- Эффект старого монитора (полосы) -->
        <div class="scanlines"></div>
        
        <!-- Таймер для хардкор режима -->
        <div id="hardcore-timer" class="timer-display hidden">03:00.00</div>
    </div>

    <!-- СЛОЙ 4: МОДАЛЬНЫЕ ОКНА (БЛОКИРОВКИ) -->
    
    <!-- Экран наказания (Слот-машина) -->
    <div id="lock-screen" class="hidden">
        <div class="lock-box">
            <h1 style="color:var(--danger); animation:glitch 0.3s infinite; margin-bottom:10px;">НАКАЗАНИЕ</h1>
            <p id="lock-reason" style="color:#aaa; margin-bottom:20px;">ВЫ ОШИБЛИСЬ.</p>
            <div id="mini-game-container" class="game-area"></div>
            <p style="color:#666; font-size:0.8rem; margin-top:15px;">ПОБЕДА = 0 УРОНА<br>ПОРАЖЕНИЕ = -1 ЖИЗНЬ / -5 ОЧКОВ</p>
        </div>
    </div>

    <!-- Окно просмотра исходного кода -->
    <div id="doc-overlay" class="hidden">
        <div class="doc-window rounded">
            <div class="doc-header">
                <span>SYSTEM_MANUAL // SOURCE_CODE_REFERENCE</span>
                <button class="doc-close-btn" onclick="closeDocs()">[X]</button>
            </div>
            <div class="doc-layout">
                <div class="doc-sidebar" id="doc-nav"></div>
                <div class="doc-content" id="doc-viewer">
                    <div class="doc-placeholder">
                        <h2 style="color:var(--primary)">/// SELECT MODULE</h2>
                        <p>Выберите модуль слева для просмотра кода.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Окно терминала -->
    <div id="terminal-overlay" class="hidden">
        <div class="terminal-window rounded">
            <div class="term-header">
                <span class="dot green"></span> root@oge-core:~
            </div>
            <div class="term-body" id="term-logs"></div>
            <div class="term-menu hidden" id="term-menu">
                <div class="menu-title">-- ВЫБРАТЬ МОДУЛЬ --</div>
                <div id="term-tasks-list"></div>
                <button class="term-close-btn" onclick="closeTerminal()">[EXIT]</button>
            </div>
        </div>
    </div>

    <!-- СЛОЙ 5: ОСНОВНОЙ КОНТЕНТ (МАКЕТ) -->
    <div class="layout">
        <!-- Боковая панель (Меню) -->
        <aside class="sidebar rounded">
            <div class="logo-area rounded" onclick="goHome()">
                <div id="title-main" class="cyber-title">ОСНОВНОЙ ГОСУДАРСТВЕННЫЙ ЭКЗАМЕН</div>
                <div id="title-sub" class="cyber-subtitle">ПОДГОТОВКА</div>
            </div>
            
            <!-- Кнопки управления режимами -->
            <div id="hardcore-controls">
                <div id="btn-start-hc" class="hc-btn start" onclick="startRoulette()">
                    РЕЖИМ ПРАКТИКИ
                </div>
                <div id="btn-stop-hc" class="hc-btn stop hidden" onclick="stopHardcore()">
                    [X] ВЫХОД ИЗ ПРАКТИКИ
                </div>
                <div class="hc-btn doc-btn" onclick="openDocs()" style="margin-top: 10px; border-color: var(--secondary); color: var(--secondary);">
                    [?] ИСХОДНЫЙ КОД
                </div>
            </div>

            <div id="menu-container" class="menu-scroll"></div>
        </aside>

        <!-- Центральная область -->
        <main class="content">
            <div id="welcome-block" class="panel rounded active">
                <h1 style="color:var(--primary); margin-bottom:20px;">/// INFO</h1>
                <p style="margin-bottom: 15px; line-height: 1.5;">
                    Как готовиться к ОГЭ по информатике? Вы открываете сборник заданий...
                </p>
                <p style="margin-bottom: 15px; line-height: 1.5; color: var(--secondary);">
                    В ОГЭ по информатике всего 16 заданий. 1-12 (тест) и 13-16 (ПК).
                </p>
            </div>

            <!-- Блок задания (скрыт по умолчанию) -->
            <div id="task-block" class="panel rounded hidden">
                <div class="task-header-row">
                    <h2 id="task-header" class="task-h2">ЗАДА��А</h2>
                    <span id="roulette-badge" class="hidden">РАНДОМ</span>
                </div>
                <div class="nav-tabs">
                    <button class="tab active" onclick="setTab('theory')">ТЕОРИЯ</button>
                    <button class="tab" onclick="setTab('practice')">ЗАДАЧА</button>
                </div>
                <div id="content-theory" class="tab-body active"></div>
                <div id="content-practice" class="tab-body">
                    <div id="question-text" class="q-box rounded"></div>
                    <div class="interact-area">
                        <input type="text" id="inp-answer" class="rounded" placeholder="ОТВЕТ..." autocomplete="off">
                        <button class="btn-primary rounded" onclick="verifyAnswer()">ПРОВЕРИТЬ</button>
                    </div>
                    <div id="res-msg"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- шпаргалки справа снизу -->
    <div class="widgets-wrapper right-bottom">
        <div id="widgets-panel" class="widgets-panel"></div>
        <button class="widget-toggle" onclick="toggleWidgets()">?</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
